
# █▀▀ █▀▀ █▄░█ █▀▀ █▀█ ▄▀█ █░░
# █▄█ ██▄ █░▀█ ██▄ █▀▄ █▀█ █▄▄

general {
    # layout = master
    # no_cursor_warps = true
}


xwayland {
force_zero_scaling = true
}


# █▀▀ █▄░█ █░█
# ██▄ █░▀█ ▀▄▀

# Some default env vars.
env = WLR_DRM_DEVICES,/dev/dri/card1:/dev/dri/card0

# █░░ ▄▀█ █░█ █▄░█ █▀▀ █░█
# █▄▄ █▀█ █▄█ █░▀█ █▄▄ █▀█

# See https://wiki.hyprland.org/Configuring/Keywords/ for more
# Execute your favorite apps at launch

exec-once = sway-audio-idle-inhibit
exec-once = swayidle -w timeout 600 'hyprctl dispatch dpms off' resume 'hyprctl dispatch dpms on' before-sleep 'swaylock'  timeout 1200 'systemctl suspend' # resume 'hyprctl dispatch dpms on'  # turn off monitor after 15 mins
exec-once = fcitx5 -d --replace
exec-once = fcitx5-remote -r
exec-once = 1password --silent --no-sandbox # start 1password
# exec-once = clash-verge --silent --no-sandbox # start clash
exec-once = cfw --silent --no-sandbox # start clash
# exec-once = kitty --silent --no-sandbox # silent start kitty


# █ █▄░█ █▀█ █░█ ▀█▀
# █ █░▀█ █▀▀ █▄█ ░█░

# For all categories, see https://wiki.hyprland.org/Configuring/Variables/

# $sys_monitor = kitty btop

input {
    kb_options = ctrl:nocaps #remap-caps-lock-to-ctrl
    force_no_accel = false
    repeat_delay = 250
    repeat_rate = 35

    touchpad {
        natural_scroll = yes
        disable_while_typing = true
        clickfinger_behavior = true
        scroll_factor = 0.5
    }
    scroll_method = 2fg
    numlock_by_default = true
}

binds {
    # focus_window_on_workspace_change = true
    scroll_event_delay = 0
}


gestures {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    workspace_swipe = true
    workspace_swipe_distance = 700
    workspace_swipe_fingers = 4
    workspace_swipe_cancel_ratio = 0.2
    workspace_swipe_min_speed_to_force = 5

    workspace_swipe_direction_lock = true
    workspace_swipe_direction_lock_threshold = 0
    
    workspace_swipe_create_new = true
    
}



# █▄▀ █▀▀ █▄█ █▄▄ █ █▄░█ █▀▄ █ █▄░█ █▀▀ █▀
# █░█ ██▄ ░█░ █▄█ █ █░▀█ █▄▀ █ █░▀█ █▄█ ▄█


# See https://wiki.hyprland.org/Configuring/Keywords/ for more
# Example binds, see https://wiki.hyprland.org/Configuring/Binds/ for more

#fctix5
bind=ALT,E,exec,pkill fcitx5 -9;sleep 1;fcitx5 -d --replace; sleep 1;fcitx5-remote -r

#hyprpicker
bind=CTRL ALT, Z, exec, hyprpicker -a

#TODO custom monitor
bind=CTRL SUPER SHIFT, P,exec, code ~/.config/hypr/monitors.conf

# Window/Session actions
bind = CTRL SHIFT, Q, exec, ~/.config/hypr/scripts/dontkillsteam.sh # killactive, kill the window on focus
bind = $mainMod, O, fullscreen, # toggle the window on focus to fullscreen
bind = $mainMod SHFIT, O, fakefullscreen
bind = $mainMod, Return, layoutmsg, swapwithmaster master # layout:master
bind = ALT , S, layoutmsg, swapwithmaster master
bind = $mainMod, M, exec, swaylock # lock screen

# Application shortcuts
bind = CTRL SHIFT, A, exec, $term  # open terminal
bind = $mainMod, RETURN, exec, $term  # open terminal
bind = CTRL SHIFT, X, exec, $editor # open vscode
bind = CTRL SHIFT, G, exec, idea # open idea
bind = CTRL SHIFT, S, exec, google-chrome-stable # open google-chrome-stable
# bind = CTRL SHIFT, S, exec, google-chrome-beta # open google-chrome-beta
# bind = $CONTROL SHIFT, ESCAPE, exec, $sys_monitor # open htop (system monitor)
bind = CTRL SUPER SHIFT,I, exec, systemsettings # open sysytemsettings
# Apps: Settings and config
# bind = CTRL SUPER SHIFT,I, exec, XDG_CURRENT_DESKTOP="gnome" gnome-control-center
# TODO not pass correctly
# bind = $mainMod,F10,pass,^(com\.obsproject\.Studio)$
bind = $mainMod SHIFT, G, exec, ~/.config/hypr/scripts/gamelauncher.sh 5

# Rofi is toggled on/off if you repeat the key presses
bind = ALT, SPACE, exec, pkill -x rofi || ~/.config/hypr/scripts/rofilaunch.sh d # launch desktop applications


# Screenshot/Screencapture
bind = CTRL ALT, A, exec, ~/.config/hypr/scripts/screenshot.sh s # drag to snip an area / click on a window to print it

# ToggleGroupChange
bind = $mainMod SHIFT, O, moveoutofgroup
bind = $mainMod SHIFT, I, moveintogroup ,l
bind = $mainMod SHIFT, I, moveintogroup ,r
bind = $mainMod SHIFT, I, moveintogroup ,u
bind = $mainMod SHIFT, I, moveintogroup ,d
bind = ALT, TAB, changegroupactive,f
bind = ALT, F, movegroupwindow, f
bind = ALT, B, movegroupwindow, b
bind = $mainMod SHIFT, R,resizeactive, exact 50% 60%

#centerwindow
bind = $mainMod, Z, centerwindow


# float window behave
# bind = $mainMod, W, togglefloating, # toggle the window on focus to float
bind = $mainMod, W, centerwindow # center the window on focus
bind = $mainMod, W,resizeactive, exact 50% 60% # resize the window on focus to 50% width and 60% height

#moveactive
bind = CTRL SHIFT, H, moveactive, -40 0
bind = CTRL SHIFT, L, moveactive, 40 0
bind = CTRL SHIFT, K, moveactive, 0 -40
bind = CTRL SHIFT, J, moveactive, 0 40

# Move focus with mainMod + arrow keys
bind = ALT, H, movefocus, l
bind = ALT, L, movefocus, r
bind = ALT, K, movefocus, u
bind = ALT, J, movefocus, d


# Switch workspaces with mainMod + [0-9]
bind = $mainMod, N, workspace,e+1
bind = $mainMod, P, workspace,e-1
# TODO: special
# bind = $mainMod, +,  workspace,empty
bind = CTRL SHIFT, N,  movetoworkspace,empty
bind = CTRL SHIFT, O,  workspace,empty


# Resize windows
binde = $mainMod SHIFT, L, resizeactive, 30 0
binde = $mainMod SHIFT, H, resizeactive, -30 0
binde = $mainMod SHIFT, K, resizeactive, 0 -30
binde = $mainMod SHIFT, J, resizeactive, 0 30

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, N,  movetoworkspace,e+1
bind = $mainMod SHIFT, P,  movetoworkspace,e-1


# Move active window around current workspace with mainMod + SHIFT + CTRL [←→↑↓]
# bind = $mainMod, left, movewindow, l
# bind = $mainMod, right, movewindow, r
# bind = $mainMod, up, movewindow, u
# bind = $mainMod, down, movewindow, d
bind = $mainMod, H, movewindow, l
bind = $mainMod, L, movewindow, r
bind = $mainMod, K, movewindow, u
bind = $mainMod, J, movewindow, d


#MOUSE ACTIONS
bind = $mainMod,mouse:274, fullscreen
bind = CTRL, mouse:274,exec, ~/.config/hypr/scripts/dontkillsteam.sh
bind = CTRL, mouse:273, togglefloating
bind = ALT, mouse:272, movetoworkspace,empty
bind = ALT, mouse:273, workspace,empty
bind = $mainMod SHIFT, mouse:272, movetoworkspace,empty
bind = $mainMod SHIFT, mouse:273, workspace,empty
bind = $mainMod SHIFT, mouse_down, movetoworkspace, e+1
bind = $mainMod SHIFT, mouse_up, movetoworkspace, e-1
bind = CTRL SHIFT, mouse:272, movetoworkspacesilent,e-1
bind = CTRL SHIFT, mouse:273, movetoworkspacesilent,e+1
bind = CTRL SHIFT, mouse_down, movetoworkspacesilent, e+1
bind = CTRL SHIFT, mouse_up, movetoworkspacesilent, e-1


# Special workspaces (scratchpad)
bind = $mainMod SHIFT, S, movetoworkspacesilent, special
bind = $mainMod CTRL, S, movetoworkspacesilent, e-1


# Toggle Layout
bind = $mainMod, I, togglesplit, # dwindle


# Move window silently to workspace Super + Alt + [0-9]
bind = $mainMod ALT, N, movetoworkspacesilent, e+1


# █░█░█ █ █▄░█ █▀▄ █▀█ █░█░█   █▀█ █░█ █░░ █▀▀ █▀
# ▀▄▀▄▀ █ █░▀█ █▄▀ █▄█ ▀▄▀▄▀   █▀▄ █▄█ █▄▄ ██▄ ▄█

#Google-chrome
windowrulev2 = opacity 0.80 0.80,class:^(Google-chrome)$
# windowrulev2 = noblur,class:^(Google-chrome)$

#firefox-nightly
windowrulev2 = opacity 0.80 0.80,class:^(firefox-nightly)$

#QQ
windowrule = float, ^(QQ)$
# windowrule = size 65% 65%, ^(QQ)$
windowrule = center, ^(QQ)$
windowrulev2 = opacity 0.80 0.80,class:^(QQ)$

#Feishu
windowrule = float, ^(Feishu)
windowrule = float, ^(Meeting)
windowrulev2 = float, title:^(Feishu Meetings)$
# windowrulev2 = noblur,class:^(Feishu)$
# windowrule = size 65% 65%, ^(Feishu)$
# windowrule = center, ^(Feishu)$
windowrulev2 = noanim, class:^(.*Feishu.*)$, title:^(win.*)$
windowrulev2 = windowdance, class:^(.*Feishu.*)$
windowrulev2 = noinitialfocus, class:^(.*Feishu.*)$, title:^(win.*)$

#1Password
windowrulev2 = stayfocused,class:^(1Password)$
windowrule = float, ^(1Password)$
windowrule = center, ^(1Password)$

#yesplaymusic
windowrule = float, ^(yesplaymusic)$
windowrule = center, ^(yesplaymusic)$
windowrulev2 = noblur,class:^(yesplaymusic)$
windowrulev2 = size 65% 65% ,class:^yesplaymusic
windowrulev2 = opacity 0.90 0.90,class:^yesplaymusic

#clash
# windowrulev2 = float,title:^Clash
# windowrulev2 = size 65% 65% ,title:^Clash
# windowrule = center,title:^Clash
# windowrulev2 =  animation slide,title:^Clash


#telegram
windowrule = float, ^(org.telegram.desktop)$
windowrule = size 65% 65%, ^(org.telegram.desktop)$
windowrule = center, ^(org.telegram.desktop)$
windowrulev2 = opacity 0.80 0.80,class:^org.telegram.desktop


#discord
windowrule = float, ^(discord)$
windowrule = size 65% 65%, ^(discord)$
windowrule = center, ^(discord)$
windowrulev2 = opacity 0.80 0.80,class:^discord


#obssudio
# windowrule = float, ^(com.obsproject.Studio)$
# windowrule = size 60% 60%, ^(com.obsproject.Studio)$
windowrule = center, ^(com.obsproject.Studio)$
windowrulev2 = opacity 0.80 0.80,class:^discord

# wps family
# windowrule = tile, ^(wps)$
windowrule = float, ^(wps)$
windowrulev2 = opacity 0.80 0.80,class:^wps


windowrule = float, ^(pdf)$
windowrulev2 = opacity 0.80 0.80,class:^pdf


windowrule = float, ^(wpp)$
windowrulev2 = opacity 0.80 0.80,class:^wpp


windowrule = float, ^(et)$
windowrulev2 = opacity 0.80 0.80,class:^et

#fcitx5
windowrulev2 = noblur,class:^(fcitx)$

#jetbrains
windowrulev2 = opacity 0.80 0.80,class:^(.*jetbrains.*)$
#windowrulev2=forceinput,class:^(jetbrains-.*)
#windowrulev2=windowdance,class:^(jetbrains-.*)
#windowrule=noanim,^(jetbrains-*)$
#windowrulev2=dimaround,class:^(jetbrains-*)$,title:^((Select)|(Choose) )
# windowrulev2 = noblur,class:^(.*jetbrains.*)$

# windowrulev2 = noanim, class:^(.*jetbrains.*)$, title:^(win.*)$
# windowrulev2 = windowdance, class:^(.*jetbrains.*)$
# windowrulev2 = noinitialfocus, class:^(.*jetbrains.*)$, title:^(win.*)$

windowrulev2=windowdance,class:^(jetbrains-.*)$
# search dialog
windowrulev2=dimaround,class:^(jetbrains-.*)$,floating:1,title:^(?!win)
windowrulev2=center,class:^(jetbrains-.*)$,floating:1,title:^(?!win)
# autocomplete & menus
windowrulev2=noanim,class:^(jetbrains-.*)$,title:^(win.*)$
windowrulev2=noinitialfocus,class:^(jetbrains-.*)$,title:^(win.*)$
windowrulev2=rounding 0,class:^(jetbrains-.*)$,title:^(win.*)$

#apifox
windowrulev2 = opacity 0.70 0.70,class:^(apifox)$

#postman
windowrulev2 = opacity 0.70 0.70,class:^(Postman)$

#Waydroid
windowrule = float, ^(Waydroid)$
